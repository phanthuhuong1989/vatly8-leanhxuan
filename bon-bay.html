<!-- Chatbot AI - cÃ³ thá»ƒ áº©n/hiá»‡n -->
<div id="chatbot" style="position: fixed; bottom: 20px; right: 20px; width: 320px; background: #f3e5f5; border: 1px solid #ce93d8; border-radius: 10px; padding: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.2); font-size: 13px; z-index: 1000;">
  <div style="display: flex; justify-content: space-between; align-items: center;">
    <strong>ğŸ’¬ Trá»£ lÃ½ Váº­t lÃ½ AI</strong>
    <button onclick="toggleChatbot()" style="background: none; border: none; cursor: pointer; font-size: 14px;">ğŸ—•</button>
  </div>
  <div id="chat-log" style="height: 150px; overflow-y: auto; margin-bottom: 8px; padding: 5px; background: white; border: 1px solid #d1c4e9; font-size: 12px;"></div>
  <input type="text" id="user-input" placeholder="Nháº­p cÃ¢u há»i vá» Ä‘Ã²n báº©y..." style="width: 100%; padding: 5px; font-size: 13px; border: 1px solid #ccc; border-radius: 4px;" />
  <button onclick="sendQuestion()" style="margin-top: 5px; padding: 5px 10px; background: #7b1fa2; color: white; border: none; border-radius: 5px; cursor: pointer; font-weight: bold;">Gá»­i</button>
</div>

<script>
let isChatbotVisible = true;

function toggleChatbot() {
  const chatbot = document.getElementById("chatbot");
  if (isChatbotVisible) {
    chatbot.style.height = "40px";
    chatbot.style.overflow = "hidden";
    chatbot.innerHTML = `
      <div style="display: flex; justify-content: space-between; align-items: center;">
        <strong>ğŸ’¬ Trá»£ lÃ½ Váº­t lÃ½ AI</strong>
        <button onclick="toggleChatbot()" style="background: none; border: none; cursor: pointer; font-size: 14px;">ğŸ——</button>
      </div>
    `;
  } else {
    // KhÃ´i phá»¥c ná»™i dung gá»‘c
    chatbot.style.height = "auto";
    chatbot.style.overflow = "visible";
    chatbot.innerHTML = `
      <div style="display: flex; justify-content: space-between; align-items: center;">
        <strong>ğŸ’¬ Trá»£ lÃ½ Váº­t lÃ½ AI</strong>
        <button onclick="toggleChatbot()" style="background: none; border: none; cursor: pointer; font-size: 14px;">ğŸ—•</button>
      </div>
      <div id="chat-log" style="height: 150px; overflow-y: auto; margin-bottom: 8px; padding: 5px; background: white; border: 1px solid #d1c4e9; font-size: 12px;"></div>
      <input type="text" id="user-input" placeholder="Nháº­p cÃ¢u há»i vá» Ä‘Ã²n báº©y..." style="width: 100%; padding: 5px; font-size: 13px; border: 1px solid #ccc; border-radius: 4px;" />
      <button onclick="sendQuestion()" style="margin-top: 5px; padding: 5px 10px; background: #7b1fa2; color: white; border: none; border-radius: 5px; cursor: pointer; font-weight: bold;">Gá»­i</button>
    `;
    // Gá»i láº¡i hÃ m sendQuestion náº¿u cáº§n
    document.getElementById("user-input").addEventListener("keypress", function(e) {
      if (e.key === "Enter") sendQuestion();
    });
  }
  isChatbotVisible = !isChatbotVisible;
}

function sendQuestion() {
  const input = document.getElementById("user-input");
  const question = input.value.trim();
  if (!question) return;

  const chatLog = document.getElementById("chat-log");
  chatLog.innerHTML += `<div><b>Báº¡n:</b> ${question}</div>`;

  let answer = "Cáº£m Æ¡n em! ÄÃ²n báº©y lÃ  nguyÃªn lÃ½ cÆ¡ báº£n giÃºp con ngÆ°á»i nÃ¢ng váº­t náº·ng dá»… dÃ ng hÆ¡n!";

  const lower = question.toLowerCase();

  if ((lower.includes("Ä‘áº·t") || lower.includes("kÃ©o")) && (lower.includes("váº­t náº·ng") || lower.includes("váº­t")) && lower.includes("thanh")) {
    answer = "âœ… Em kÃ©o **váº­t náº·ng** tá»« kho bÃªn pháº£i vÃ  tháº£ lÃªn **thanh Ä‘Ã²n báº©y**. CÃ³ thá»ƒ Ä‘áº·t á»Ÿ báº¥t ká»³ vá»‹ trÃ­ nÃ o trÃªn thanh.";
  }
  else if ((lower.includes("thay Ä‘á»•i") || lower.includes("Ä‘iá»u chá»‰nh")) && (lower.includes("khá»‘i lÆ°á»£ng") || lower.includes("trá»ng lÆ°á»£ng"))) {
    answer = "âœ… Nháº¥p vÃ o **váº­t Ä‘Ã£ Ä‘áº·t** â†’ chá»n **khá»‘i lÆ°á»£ng má»›i** (5 kg, 10 kg, 15 kg...) trong báº£ng hiá»‡n ra.";
  }
  else if ((lower.includes("xÃ¡c Ä‘á»‹nh") || lower.includes("tÃ­nh")) && (lower.includes("khoáº£ng cÃ¡ch") || lower.includes("trá»¥c quay"))) {
    answer = "âœ… Khoáº£ng cÃ¡ch tá»« váº­t Ä‘áº¿n trá»¥c quay chÃ­nh lÃ  **sá»‘ ghi trÃªn thanh** (theo Ä‘Æ¡n vá»‹ mÃ©t). VÃ­ dá»¥: váº­t á»Ÿ váº¡ch sá»‘ 2 â†’ khoáº£ng cÃ¡ch = 2 m.";
  }
  else if ((lower.includes("hai bÃªn") || lower.includes("so sÃ¡nh")) && (lower.includes("trá»¥c quay") || lower.includes("Ä‘áº·t"))) {
    answer = "âœ… Äáº·t **váº­t á»Ÿ bÃªn trÃ¡i vÃ  bÃªn pháº£i trá»¥c quay** â†’ quan sÃ¡t xem thanh nghiÃªng vá» phÃ­a nÃ o â†’ so sÃ¡nh momen lá»±c.";
  }
  else if ((lower.includes("cÃ¢n báº±ng") || lower.includes("cÃ¢n")) && (lower.includes("Ä‘Ã²n báº©y") || lower.includes("thanh"))) {
    answer = "âœ… ÄÃ²n báº©y cÃ¢n báº±ng khi: **Tá»•ng momen lá»±c bÃªn trÃ¡i = Tá»•ng momen lá»±c bÃªn pháº£i** â†’ tá»©c lÃ  **Fâ‚ Ã— dâ‚ = Fâ‚‚ Ã— dâ‚‚**.";
  }
  else if ((lower.includes("quan sÃ¡t") || lower.includes("biáº¿t")) && (lower.includes("cÃ¢n báº±ng") || lower.includes("hiá»‡n tÆ°á»£ng"))) {
    answer = "âœ… Khi Ä‘Ã²n báº©y **náº±m ngang, khÃ´ng nghiÃªng**, vÃ  **kim chá»‰ má»©c cÃ¢n báº±ng (mÃ u xanh)** â†’ thanh Ä‘ang cÃ¢n báº±ng.";
  }
  else if ((lower.includes("thay Ä‘á»•i") || lower.includes("chá»n")) && (lower.includes("váº­t náº·ng khÃ¡c nhau") || lower.includes("nhiá»u loáº¡i"))) {
    answer = "âœ… Em cÃ³ thá»ƒ dÃ¹ng **nhiá»u váº­t khÃ¡c nhau** (5kg, 10kg, 15kg) vÃ  Ä‘áº·t **nhiá»u váº­t cÃ¹ng lÃºc** trÃªn má»™t bÃªn Ä‘á»ƒ táº¡o há»‡ thá»‘ng phá»©c táº¡p.";
  }

  chatLog.innerHTML += `<div style="background:#f3e5f5; padding:5px; margin:5px 0; border-left:3px solid #7b1fa2;"><b>AI:</b> ${answer}</div>`;
  input.value = "";
  chatLog.scrollTop = chatLog.scrollHeight;
}
</script>